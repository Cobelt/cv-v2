.timeline {
  --timeline-padding: 20rem;
  --gradient: rgb(var(--rgb-gradient, 33 33 33) / 1) 50%,
    rgb(var(--rgb-gradient, 33 33 33) / 0) 100%;

  padding: 0 var(--timeline-padding) 0 0;
  display: flex !important;
}

@property --gradient-percent-1 {
  syntax: "<percentage>";
  initial-value: 0%;
  inherits: false;
}

@property --gradient-percent-2 {
  syntax: "<percentage>";
  initial-value: 0%;
  inherits: false;
}

/* TEMPORARY WAITING SCREEN */
@media screen and (width < 1280px) {
  .timeline {
    width: 100%;
    min-height: 20rem;
    padding: 0;
    margin: 0;
    flex-direction: column;
  }
  .timeline:before,
  .timeline:after {
    background-color: rgb(var(--rgb-gradient));
    white-space: initial;
  }
  .timeline:before {
    margin-top: 4rem;
    order: 2;
    font-family: RubikReg;
    font-size: 1.5rem;
    content: "Désolé, cette page est encore sous le jougs des coups de marteaux qui lui forgeront un responsive adéquat. ⚒️";
  }
  .timeline:after {
    margin-top: 1rem;
    order: 3;
    font-family: RubikBold;
    font-size: 1.15rem;
    content: "En revanche elle est accessible sur pc ou tablette !";

    background-color: rgb(var(--rgb-gradient));
    white-space: initial;
  }
  .timeline ol {
    display: none;
  }
}

@media screen and (width >= 1280px) {
  .timeline {
    --timeline-padding: 20rem;
    --gradient: rgb(var(--rgb-gradient, 33 33 33) / 1) 50%,
      rgb(var(--rgb-gradient, 33 33 33) / 0) 100%;

    padding: var(--timeline-padding) 0;
  }

  .timeline ol {
    position: relative;
  }

  .timeline ol:before,
  .timeline ol:after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    width: 10%;
  }

  .timeline ol:before {
    right: 0;
    background: linear-gradient(270deg, var(--gradient));
  }

  .timeline ol:after {
    left: 0;
    background: linear-gradient(90deg, var(--gradient));
  }

  .timeline li {
    --gradient-percent-1: 0%;
    --gradient-percent-2: 0%;
    transition: --gradient-percent-1 0.5s, --gradient-percent-2 1s;

    background-image: linear-gradient(
      90deg,
      currentColor var(--gradient-percent-1),
      white var(--gradient-percent-2)
    );
  }

  .timeline li > span {
    transition: transform 0.2s;
  }

  .textbubble {
    left: -7px;
    transition: all 0.3s, transform 0.15s;
  }

  .timeline li:not(:first-child) {
    margin-left: -4px;
    cursor: pointer;
  }

  .timeline li:nth-child(even) > .textbubble {
    bottom: 1.75rem;
    border-radius: 10px 10px 10px 0;
  }
  .timeline li:nth-child(odd) > .textbubble {
    top: 1.75rem;
    border-radius: 0 10px 10px 10px;
  }

  /* HOVER */
  .timeline li:hover {
    --gradient-percent-1: 100%;
    --gradient-percent-2: 140%;
    transition: --gradient-percent-1 1s, --gradient-percent-2 0.5s;
  }

  .timeline li:hover > span {
    transform: scale(1.3);
  }

  .timeline li:nth-child(even):hover .textbubble {
    bottom: 2.5rem;
    box-shadow: 0.4rem 0.4rem 1rem rgb(33 33 33 / 0.2);
  }
  .timeline li:nth-child(odd):hover .textbubble {
    top: 2.5rem;
    box-shadow: 0.4rem -0.4rem 1rem rgb(33 33 33 / 0.2);
  }

  .textbubble:before {
    content: "";
    position: absolute;
    top: 100%;
    left: 0;
    width: 0;
    height: 0;
    border-style: solid;
  }

  .timeline li:nth-child(even) .textbubble:before {
    top: 100%;
    border-width: 8px 8px 0 0;
    border-color: white transparent transparent transparent;
  }
  .timeline li:nth-child(odd) .textbubble:before {
    top: -8px;
    border-width: 8px 0 0 8px;
    border-color: transparent transparent transparent white;
  }
}
